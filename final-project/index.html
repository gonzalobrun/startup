<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/style.css">
	<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>

	<title>Odeon | Cinema</title>
</head>
<body ng-controller="MoviesController">

	
	<div class="container-fluid">
		<!-- HEADER -->
		<div class="row-fluid">
			<div class="span12">
				<header class="page-header">
					<h1>Welcome to Odeon Cinema</h1>
					<h4>Go to the movies, go to Odeon</h4>
				</header>
			</div>
		</div>

		<!-- NAV -->
		<div class="row-fluid">
			<div class="span12">
				<nav>
					<ul class="nav nav-pills">
						<li><button type="button" class="btn btn-default btn-lg" data-toggle="modal" data-target="#myModal">New Movie</button></li>
					</ul>
				</nav>
			</div>
		</div>


		<!-- MODAL NEW -->
		<form name="frm">
		<div id="myModal" class="modal fade">
  			<div class="modal-dialog modal-sm">
	    		<div class="modal-content">
	    			<!-- MODAL HEADER -->
	      			<div class="modal-header">
	        			<button type="button" class="close" data-dismiss="modal">&times;</button>
	        			<h4 class="modal-title">New Movie</h4>
	      			</div>

					<!-- MODAL BODY -->
	      			<div class="modal-body">
	        		
						<form name="frm" data-toggle="validator">
							<label class="control-label">Title:</label>
								<input type="text" class="form-control" name="title" ng-model="newMovie.title" required>

							<label class="control-label">Genre:</label>
								<input type="text" class="form-control" name="genre" ng-model="newMovie.genre" required>

							<label class="control-label">Duration:</label>
								<input type="text" class="form-control" name="duration" ng-model="newMovie.duration" required>

							<label class="control-label">Release Date:</label>
								<input type="date" class="form-control" name="release_date" ng-model="newMovie.release_date" required>

							<label class="control-label">Director:</label>
							<label class="control-label">Name:</label>
								<input class="form-control" type="text" name="dirName" ng-model="newMovie.dirName" required>

							<label class="control-label">Last Name:</label>
								<input class="form-control" type="text" name="dirLastname" ng-model="newMovie.dirLastName" required>

							<label class="control-label">Cast:</label>
								<input name="actor" class="form-control" type="text" name="actor1" ng-model="newMovie.actor1" required>
								<input name="actor" class="form-control"  type="text" name="actor2" ng-model="newMovie.actor2" required>
								<input name="actor" class="form-control" type="text" name="actor3" ng-model="newMovie.actor3" required>

							<label class="control-label">Summary:</label>
								<textarea name="summary" cols="30" rows="6" ng-model="newMovie.summary" requierd></textarea>

								<!-- THIS INPUT SUPOSE TO BE HIDDEN AND ALWAYS THE VALUE OF THAT LINK, BUT THE VALUE PROPERTY IS NOT WORKING, I'M HARDCODING THE VALUE -->
								<input type="text" class="hidden" name="img" value="https://dl.dropboxusercontent.com/u/83177830/no-img.jpg">
							<!-- MODAL FOOTER -->
			      			<div class="modal-footer">
			        			<button type="submit" class="btn btn-default" ng-click="addMovie()" data-dismiss="modal">Done</button>
			      			</div>
	      				</form>
	      			</div>
	    		</div>
			</div>
		</div>

		<div>
			<div class="row-fluid movieTitle" ng-repeat="movie in movies" >
				<!-- ROW-TITLE -->
				<div class="btn-default">
					<section>
						<div class="title">{{movie.title}}
						<button class="btn default-btn btn-like" ng-click="plusOne($index)"> {{movie.likes}} <i class="fa fa-thumbs-o-up"></i> </button>
						<button class="btn default-btn pull-right btn-custom" ng-click="delete($index)"><i class="fa fa-trash-o"></i></button>

						</div>
						
					</section>
				</div>
				<!-- ROW-INFO -->
				<div class="row-fluid movieInfo" visible="showInfo">
					<!-- COL-1 -->
					<div class="col-xs-3">
						<p><span>Genre: </span> {{movie.genre}}</p>
						<p><span>Duration: </span> {{movie.duration}} min.</p>
						<p><span>Release: </span> {{movie.release_date | date}}</p>
						<p><span>Director: </span>  {{movie.director.name}} {{movie.director.lastName}}</p>
					</div>
					<!-- COL2 -->
					<div class="col-xs-3">
						<span>Cast:</span>
						<p ng-repeat="(key,value) in movie.cast">
							{{value['actor']}}
						</p>
					</div>
					<!-- COL3 -->
					<div class="col-xs-3">
						<p>{{movie.summary}}</p>
					</div>
					<!-- COL4 -->
					<div class="col-xs-3">
						<img class="pull-right" ng-src="{{movie.img}}">
					</div>

					<div class="row"></div>
				</div>	
			</div>
		</div>
		
		

		<!-- FOOTER -->
		<footer class="page-footer">
			<p>Thank you for your visit</p>
		</footer>

	</div>

	<!-- Angular -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.js"></script>
	<!-- jQuery -->
	<script src="js/jquery-2.2.0.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

	<!-- Modules -->
	<script src="js/app.js"></script>

</body>
</html>